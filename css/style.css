/* style.css — Responsive v2 (mobile/desktop) for EN Phonics 21 Days
   目的：
   1) Day 清單一定完整顯示（不被高度/overflow 吃掉）
   2) 手機/桌機自適應：Day 卡片自動換行、不卡版
   3) 課程內容區、圖卡區在窄螢幕會改為直向堆疊

   用法：
   - 直接覆蓋你的 /css/style.css
   - 如果你原本檔名不是 style.css，請把內容貼到你正在引用的那支 CSS
*/

:root{
  --bg:#f6f7fb;
  --card:#ffffff;
  --text:#111827;
  --muted:#6b7280;
  --border:#e5e7eb;
  --shadow:0 10px 24px rgba(0,0,0,.06);
  --radius:18px;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans TC", "PingFang TC", "Microsoft JhengHei", Arial, sans-serif;
  background:var(--bg);
  color:var(--text);
  line-height:1.55;
}

a{ color:inherit; }

.container{
  width:min(1100px, 92vw);
  margin:24px auto 60px;
}

h1{ font-size:clamp(26px, 4vw, 44px); margin:0 0 8px; }
.subtitle{ color:var(--muted); margin:0 0 18px; }

.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:22px;
}

.row{
  display:flex;
  gap:12px;
  align-items:center;
  flex-wrap:wrap;
}

button{
  border:1px solid var(--border);
  background:#fff;
  color:var(--text);
  padding:10px 14px;
  border-radius:14px;
  cursor:pointer;
  font-size:16px;
}
button:hover{ filter:brightness(.98); }
button:active{ transform:translateY(1px); }
button.ghost{ background:transparent; }
button:disabled{ opacity:.5; cursor:not-allowed; }

.pill{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:10px 14px;
  border-radius:999px;
  border:1px solid var(--border);
  background:#fff;
  margin:6px 8px 0 0;
}

.hidden{ display:none !important; }

/* =========================
   ✅ 핵심：課程清單區（避免被吃掉）
   ========================= */
#courseList{
  height:auto !important;
  overflow:visible !important;
}

#dayList{
  /* ✅ 自適應 grid：手機 1 欄起跳，桌機自動多欄 */
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap:16px;
  margin-top:14px;
}

/* Day 按鈕卡片 */
.dayBtn{
  text-align:left;
  width:100%;
  padding:16px;
  border-radius:16px;
  border:1px solid var(--border);
  background:linear-gradient(180deg,#fff 0%, #fbfbfd 100%);
  box-shadow:0 8px 18px rgba(0,0,0,.05);
}
.dayBtn .big{ font-size:28px; font-weight:800; }
.dayBtn:hover{ box-shadow:0 12px 22px rgba(0,0,0,.08); }
.dayBtn:active{ transform:translateY(1px); }

/* 清除進度按鈕區：右側不擠壓 */
.topActions{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:12px;
  flex-wrap:wrap;
}
#resetProgressBtn{ margin-left:auto; }

/* =========================
   課程內容區：layout
   ========================= */
#lesson{ margin-top:18px; }

.lessonHeader{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:12px;
  flex-wrap:wrap;
}

#lessonTitle{
  font-size:clamp(20px, 2.2vw, 28px);
  margin:0;
}

.stepBar{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin:14px 0 12px;
}
.step{
  padding:8px 12px;
  border-radius:999px;
  border:1px solid var(--border);
  background:#fff;
  font-size:14px;
}
.step.active{
  border-color:#111827;
  font-weight:700;
}

/* 主要操作區：左（課程）右（圖卡） */
.lessonGrid{
  display:grid;
  grid-template-columns: 1.25fr .75fr;
  gap:16px;
  align-items:start;
}

/* stage */
#stage h3{ margin:0 0 6px; }
#stage p{ margin:0 0 10px; color:var(--muted); }
#status{ margin-top:8px; color:var(--muted); }

/* =========================
   圖卡區（翻牌）
   ========================= */
#cardsPanel{
  position:sticky;
  top:18px;
}

.cardsHeader{
  display:flex;
  gap:10px;
  align-items:center;
  flex-wrap:wrap;
  margin-bottom:12px;
}

#cardsGrid{
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  gap:12px;
}

.flip-card{
  perspective: 900px;
  width:100%;
  min-height:140px;
}
.flip-inner{
  position:relative;
  width:100%;
  height:100%;
  min-height:140px;
  transform-style:preserve-3d;
  transition: transform .5s ease;
}
.flip-card.is-flipped .flip-inner{ transform: rotateY(180deg); }

.flip-face{
  position:absolute;
  inset:0;
  backface-visibility:hidden;
  border-radius:16px;
  border:1px solid var(--border);
  background:#fff;
  padding:12px;
  box-shadow:0 10px 18px rgba(0,0,0,.05);
  display:flex;
  flex-direction:column;
  justify-content:space-between;
}
.flip-back{ transform: rotateY(180deg); }

.card-big{ font-size:34px; font-weight:900; }
.card-sub{ color:var(--muted); font-size:14px; }
.card-actions{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-top:10px;
}

/* =========================
   ✅ 手機版調整
   ========================= */
@media (max-width: 860px){
  .container{ margin:16px auto 50px; }
  .card{ padding:16px; }
  #dayList{ grid-template-columns: 1fr; } /* 手機：Day 卡片直排 */
  .dayBtn .big{ font-size:26px; }
  .lessonGrid{ grid-template-columns: 1fr; } /* 課程+圖卡改直向堆疊 */
  #cardsPanel{ position:relative; top:auto; }
  #cardsGrid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
}

@media (max-width: 420px){
  button{ font-size:15px; padding:10px 12px; }
  #cardsGrid{ grid-template-columns: 1fr; }
}
